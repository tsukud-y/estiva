<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" />
</head><body><pre>

コマンド
	xyc2msh - 有限要素格子データの生成フィルタ

使い方
	% xyc2msh [filename]

解説
	xpm2msh は節点-座標対応表(以下 xycファイルとする)から
	メッシュファイル(以下 mshファイル) を生成するフィルタである.

	xyc ファイルの例は, ディストリビューションに含まれる,
	kanto.xyc, pt.xyc を参考にされたい.
	これらのファイルのエントリの表している意味は,
	[x座標] [y座標] [境界用のラベル]
	である.

	msh ファイルは, xyc2msh を makeした後
	% ./xyc2msh kanto.xyc > kanto.msh
	% ./xyc2msh pt.xyc > pt.msh

	とすることで得られる. 以下では pt.msh の一部を引用して
	msh形式ファイルついて解説する(以下 pt.msh より引用).

＜xyc＞
    1 -0.750000000 -0.406250000 inner
    2 -0.734375000 -0.406250000 inner
    3 -0.750000000 -0.390625000 inner
    4 -0.812500000 -0.125000000 inner
    5 -0.796875000 -0.125000000 inner
    6 -0.812500000 -0.109375000 inner
	.....

12666 0.484375000 -0.125000000 boundary
12667 -0.500000000 0.109375000 boundary
＜nde＞
   1     1    2    3  2225 2057 2224
   2     4    5    6  1623 1475 1621
   3     7    8    9  2623 2447 2621
   4    10   11   12  1909 1753 1907
   5    13   14   15  2731 2551 2729

     .....
24643  1946 12667 2033     0 3008 24644
24644  1946 3302 12667     0 24643 5449

	(引用終り, 以下 pt.mshの解説)	
	pt.mshによって表現されている有限要素格子は, 
	頂点節点数=12667, 三角形要素数=24644 
	である.

	ここに, ＜xyc＞ タグから ＜nde＞ タグまでが,
	いわゆる 節点 - 座標対応表であり,
	[節点番号]  [x座標] [y座標] [節点の属性を表すラベル]

	の順でエントリは構成されている.
	[節点の属性を表すラベル] = inner は, 内部節点,
	[節点の属性を表すラベル] = boundary は, 境界節点である.

	pt.msh は, pt.xyc から生成した有限要素格子ファイルであるが.
	pt.xyc における 境界は 1種類, boundary しか用いていない.
	しかし, pt.xyc における ラベル, boundary の部分は
	適宜 nouman, dirichret, omega1, omega2 などを
	複数組み合わせて用いる事により, 様々な境界条件を
	適用する事の出来る有限要素格子ファイルを得る事が出来るだろう.

	つまり,
	xycファイルにおける [境界節点を表すラベル]は,
	ダイレクトに mshファイルにおける [節点の属性を表すラベル]
	となって, msh ファイル上に現われるのである.
	

	＜nde＞ タグから ファイル終端部分までは,
	いわゆる 要素 - 節点対応表になっている.
	これは,
	[要素番号] [節点] [節点] [節点] [隣接要素] [隣接要素] [隣接要素]
	
	の順でエントリが構成されているのであるが,
	普通の意味での要素 - 節点対応表にあたる部分は, 始めの4つの
	エントリである所の,
	[要素番号] [節点] [節点] [節点]

	の部分である,
	残りの, [隣接要素] [隣接要素] [隣接要素] エントリは,
	デローニー三角分割法の副産物として得られる物であるが,
	前述のエントリの説明
	[要素番号] [節点] [節点] [節点] [隣接要素] [隣接要素] [隣接要素]
	の詳細を

	[要素番号] [節点a] [節点b] [節点c] [隣接要素a] [隣接要素b] [隣接要素c]
	とすると,
	ある1つの [要素番号] に着目した場合,
	要素 は 3つの節点番号で表される.
	これが, [節点a] [節点b] [節点c] である.
	そして, 着目している要素が
	境界に接していない場合は, 3節点それぞれの向かい側に隣接する要素
	番号が[隣接要素a] [隣接要素b] [隣接要素c]である.

	要素が境界に接しているとして,
	節点aの向かい側に隣接する三角形がない場合には,
	[隣接要素a] := 0 となっている.
