<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" />
</head><body><pre>

DEFOP(3 )              ESTIVA ライブラリ関数マニュアル                 DEFOP(3)

名称
     defop - ある特定のコマンドラインオプションの有無を判定

ライブラリ
     ESTIVA ライブラリ (libestiva, -lestiva)

書式
     #include <estiva/op.h>

     int
     defop(char *str);

解説
     defop()ルーチンは引数で指定したある特定のコマンドラインオプションが
     コマンドラインで指定されたか、されなかったを判定するためのルーチンです。
     defop()を呼び出す前に一度initop(3)を呼び出す必要があります。
     もしinitop()ルーチンを呼び出すことなくdefop()を呼び出した場合には、
     コマンドライン引数がなにもないままmain()関数を呼び出したと同じ
     動作をdefop()は行います。具体的にはdefop()はこの場合常に0を返します。
     defopの引数に "-v" 等と指定したならば、コマンドラインで呼ばれた
     コマンドラインオプションに -v が存在した場合、defop("-v")は1を返します。
     具体的にはdefop("-v")を含む実行プログラム a.outをコマンドラインで
     % a.out -v
     % a.out -f -v
     % a.out -v -o - 
     等と実行した場合に defop("-v")は1を返します。これによりユーザプログラム
     a.outはコマンドライン引数で -vオプションを指定したか指定していないかの
     判定を行うことができます。
     a.outのソースコード中のどこでもdefop()を用いることが出来るので、
     サブルーチンからでも、サブルーチンの更にそのサブルーチンからでもdefop()
     を用いてコマンドライン引数の判定を行うことが出来ます。

制限事項
     defop()は複合されたオプション、例えば -laFなどがあった場合のaという
     オプションを判定することは出来ません。よって/bin/ls風のコマンドライン
     オプションやtar風のオプションを解釈したい場合はmain()関数のargc,argv引数
     を用いてプログラマは引数解釈を行わなければなりません。

戻り値
     戻り値は引数で指定した特定のコマンドラインオプションがあった場合1。
     無かった場合に0を返します。

関連項目
     initop(3), getop(3)
